# üöÄ Template Angular SSR Multi-Tenant

> Template empresarial pronto para produ√ß√£o com Angular 19 + PrimeNG 20 + SSR, projetado para aplica√ß√µes SaaS escal√°veis.

[![Angular](https://img.shields.io/badge/Angular-19-red.svg)](https://angular.io/)
[![PrimeNG](https://img.shields.io/badge/PrimeNG-20-blue.svg)](https://www.primefaces.org/primeng/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue.svg)](https://www.typescriptlang.org/)
[![SSR](https://img.shields.io/badge/SSR-Enabled-green.svg)](https://angular.io/guide/universal)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

---

## üìã √çndice

- [Sobre o Projeto](#sobre-o-projeto)
- [Caracter√≠sticas Principais](#caracter√≠sticas-principais)
- [Tecnologias](#tecnologias)
- [Backend Integrado](#backend-integrado)
- [Pr√©-requisitos](#pr√©-requisitos)
- [Instala√ß√£o](#instala√ß√£o)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Como Usar](#como-usar)
- [Internacionaliza√ß√£o (I18N)](#internacionaliza√ß√£o-i18n)
- [Design System](#design-system)
- [Deploy](#deploy)
- [Exemplos Inclu√≠dos](#exemplos-inclu√≠dos)
- [Contribuindo](#contribuindo)
- [Licen√ßa](#licen√ßa)

---

## üìñ Sobre o Projeto

Este √© um **template empresarial completo** desenvolvido para acelerar o desenvolvimento de aplica√ß√µes SaaS Multi-Tenant. Fornece uma base s√≥lida com autentica√ß√£o, internacionaliza√ß√£o, pagina√ß√£o autom√°tica, design system profissional e arquitetura limpa.

**Ideal para:**
- ‚úÖ Aplica√ß√µes SaaS B2B
- ‚úÖ Sistemas de gest√£o empresarial
- ‚úÖ Dashboards administrativos
- ‚úÖ Aplica√ß√µes multi-idioma
- ‚úÖ Sistemas multi-tenant

---

## ‚≠ê Caracter√≠sticas Principais

### üé® **Design System Profissional**
- Vari√°veis CSS customiz√°veis
- Tema verde corporativo
- Componentes PrimeNG estilizados
- Responsivo (mobile-first)
- Dark mode preparado

### üåç **Internacionaliza√ß√£o (I18N)**
- M√∫ltiplos idiomas (PT-BR, EN-US)
- URL com idioma (`/pt-br/dashboard`, `/en-us/dashboard`)
- Tradu√ß√µes por m√≥dulo
- Language selector no header
- F√°cil adicionar novos idiomas

### üîê **Autentica√ß√£o Completa**
- Login com email/senha
- OAuth Google
- JWT com HTTP-only cookies
- Guards de rota (auth, language)
- Telas de login/registro estilizadas
- Recupera√ß√£o de senha (preparado)

### üìä **Componentes Prontos**
- Listagem com pagina√ß√£o autom√°tica
- Busca com debounce
- Ordena√ß√£o de colunas
- Filtros customizados
- Menu de a√ß√µes (editar/deletar)
- Estados de loading/erro/empty
- Modais de confirma√ß√£o

### üèóÔ∏è **Arquitetura Limpa**
- BaseComponent para listagens (CRUD autom√°tico)
- BaseService para APIs (CRUD pr√©-montado)
- Interceptors configurados
- Error handling centralizado
- State management com Signals
- SSR (Server-Side Rendering)

### üöÄ **Performance e SEO**
- Angular Universal (SSR)
- Lazy loading de m√≥dulos
- OnPush change detection
- Meta tags din√¢micas
- Open Graph tags
- Sitemap preparado

### üéØ **Multi-Tenant**
- Detec√ß√£o por subdom√≠nio
- Temas por tenant
- Contexto global de tenant
- Interceptor de tenant-id
- Customiza√ß√£o din√¢mica

---

## üõ†Ô∏è Tecnologias

| Tecnologia | Vers√£o | Descri√ß√£o |
|------------|--------|-----------|
| **Angular** | 19.x | Framework principal |
| **PrimeNG** | 20.x | Biblioteca de componentes UI |
| **TypeScript** | 5.7+ | Linguagem tipada |
| **SCSS** | - | Pr√©-processador CSS |
| **Angular Universal** | - | Server-Side Rendering |
| **RxJS** | 7.x | Programa√ß√£o reativa |
| **Angular Signals** | - | Reatividade moderna |
| **PrimeIcons** | - | √çcones |

---

## üîó Backend Integrado

Este template foi desenvolvido para integrar perfeitamente com o backend em **C# Clean Architecture**:

üîó **[Template-CleanArchitecture (Backend)](https://github.com/joaopaulobiesek/Template-CleanArchitecture)**

### Caracter√≠sticas da Integra√ß√£o:
- ‚úÖ **Contratos sincronizados** - Endpoints mapeados em `api-routes.ts`
- ‚úÖ **JWT Authentication** - Tokens HTTP-only cookies
- ‚úÖ **Pagina√ß√£o padronizada** - `PaginatedList<T>` compat√≠vel
- ‚úÖ **Error handling** - Mensagens de erro tratadas
- ‚úÖ **Multi-tenant** - Header `X-Tenant-Id` autom√°tico
- ‚úÖ **CORS configurado** - Desenvolvimento e produ√ß√£o

---

## ‚úÖ Pr√©-requisitos

- **Node.js** 20.x ou superior
- **npm** 10.x ou superior
- **Angular CLI** 19.x
- **Git**
- **Backend rodando** ([Template Clean Architecture](https://github.com/joaopaulobiesek/Template-CleanArchitecture))

---

## üöÄ Instala√ß√£o

### 1Ô∏è‚É£ Clone o reposit√≥rio:

```bash
git clone https://github.com/joaopaulobiesek/Template-CleanArchitecture-Angular.git
cd Template-CleanArchitecture-Angular
```

### 2Ô∏è‚É£ Instale as depend√™ncias:

```bash
npm install
```

### 3Ô∏è‚É£ Configure as vari√°veis de ambiente:

Crie o arquivo `src/environments/environment.development.ts`:

```typescript
export const environment = {
  production: false,
  apiUrl: 'https://localhost:7001',  // URL do backend
  apiVersion: 'v1'
};
```

### 4Ô∏è‚É£ Execute o projeto:

```bash
# Desenvolvimento (sem SSR)
npm run dev

# Desenvolvimento com SSR
npm run build:ssr
npm start
```

### 5Ô∏è‚É£ Acesse no navegador:

```
http://localhost:4200/pt-br/auth/login
```

**Credenciais de teste (configurar no backend):**
- Email: `admin@admin.com`
- Senha: `*Admin123`

---

## üìÅ Estrutura do Projeto

```
src/app/
‚îú‚îÄ‚îÄ core/                          # N√∫cleo da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ abstractions/              # Classes base e contratos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ class-parents/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.component.ts  # Base para listagens com pagina√ß√£o
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ base.service.ts    # Base para servi√ßos CRUD
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ http/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ api-routes.ts      # Mapeamento de endpoints
‚îÇ   ‚îú‚îÄ‚îÄ guards/                    # Prote√ß√£o de rotas
‚îÇ   ‚îú‚îÄ‚îÄ interceptors/              # Interceptors HTTP
‚îÇ   ‚îú‚îÄ‚îÄ services/                  # Servi√ßos globais
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ translation.service.ts # I18N
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ platform.service.ts    # SSR helpers
‚îÇ   ‚îî‚îÄ‚îÄ models/                    # Modelos de dados
‚îÇ
‚îú‚îÄ‚îÄ features/                      # Funcionalidades por m√≥dulo
‚îÇ   ‚îú‚îÄ‚îÄ auth/                      # Autentica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ register/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ google-callback/
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/                 # Dashboard principal
‚îÇ   ‚îî‚îÄ‚îÄ clients/                   # Exemplo: CRUD de clientes
‚îÇ       ‚îú‚îÄ‚îÄ clients.component.ts   # Listagem
‚îÇ       ‚îú‚îÄ‚îÄ client-form/           # Formul√°rio
‚îÇ       ‚îî‚îÄ‚îÄ services/              # Service do m√≥dulo
‚îÇ
‚îú‚îÄ‚îÄ layout/                        # Layout da aplica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ header/                    # Header com breadcrumb
‚îÇ   ‚îú‚îÄ‚îÄ sidebar/                   # Sidebar colaps√°vel
‚îÇ   ‚îî‚îÄ‚îÄ footer/                    # Footer din√¢mico
‚îÇ
‚îú‚îÄ‚îÄ shared/                        # Componentes compartilhados
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îî‚îÄ‚îÄ search-debounce/       # Busca com debounce
‚îÇ
‚îî‚îÄ‚îÄ app.routes.ts                  # Configura√ß√£o de rotas

assets/i18n/                       # Tradu√ß√µes
‚îú‚îÄ‚îÄ global/                        # Tradu√ß√µes globais
‚îÇ   ‚îú‚îÄ‚îÄ pt-br.json
‚îÇ   ‚îî‚îÄ‚îÄ en-us.json
‚îî‚îÄ‚îÄ features/                      # Tradu√ß√µes por feature
    ‚îú‚îÄ‚îÄ clients/
    ‚îú‚îÄ‚îÄ dashboard/
    ‚îî‚îÄ‚îÄ auth/

src/styles/                        # Estilos globais
‚îú‚îÄ‚îÄ _design-system.scss            # Vari√°veis CSS
‚îú‚îÄ‚îÄ _components.scss               # Componentes globais
‚îú‚îÄ‚îÄ _data-table.scss               # Estilos de tabela
‚îî‚îÄ‚îÄ _prime-*.scss                  # Overrides PrimeNG
```

---

## üí° Como Usar

### üîπ Criar Nova Feature de Listagem

**1. Crie o modelo:**

```typescript
// src/app/core/models/product.model.ts
export class Product {
  id!: string;
  name!: string;
  price!: number;
  createdAt!: Date;
}
```

**2. Crie o servi√ßo:**

```typescript
// src/app/features/products/services/product.service.ts
import { Injectable } from '@angular/core';
import { BaseService } from '../../../core/abstractions/class-parents/base.service';
import { apiRoutes } from '../../../core/abstractions/http/api-routes';

@Injectable({ providedIn: 'root' })
export class ProductService extends BaseService {
  protected getEndpoints() {
    return {
      list: apiRoutes.products.list,
      getById: apiRoutes.products.getById,
      create: apiRoutes.products.create,
      update: apiRoutes.products.update,
      delete: apiRoutes.products.delete
    };
  }
}
```

**3. Cadastre os endpoints:**

```typescript
// src/app/core/abstractions/http/api-routes.ts
export const apiRoutes = {
  products: {
    list: (): EndpointConfig => ({
      url: ['/api/v1/Products', 'GET'] as TypedUrlProps
    }),
    getById: (id: string): EndpointConfig => ({
      url: [`/api/v1/Products/${id}`, 'GET'] as TypedUrlProps
    }),
    create: (): EndpointConfig => ({
      url: ['/api/v1/Products', 'POST'] as TypedUrlProps
    }),
    update: (id: string): EndpointConfig => ({
      url: [`/api/v1/Products/${id}`, 'PUT'] as TypedUrlProps
    }),
    delete: (id: string): EndpointConfig => ({
      url: [`/api/v1/Products/${id}`, 'DELETE'] as TypedUrlProps
    })
  }
};
```

**4. Crie o componente:**

```typescript
// src/app/features/products/products.component.ts
import { Component, inject } from '@angular/core';
import { BaseComponent } from '../../core/abstractions/class-parents/base.component';
import { Product } from '../../core/models/product.model';
import { ProductService } from './services/product.service';
import { TranslationService } from '../../core/services/translation.service';

@Component({
  selector: 'app-products',
  templateUrl: './products.component.html',
  styleUrl: './products.component.scss',
  standalone: true,
  imports: [/* ... */]
})
export class ProductsComponent extends BaseComponent<Product> {

  constructor() {
    const productService = inject(ProductService);
    super(productService);
  }

  private productService = inject(ProductService);
  public translationService = inject(TranslationService);

  protected async setupComponent(): Promise<void> {
    await this.translationService.loadFeatureTranslations('products');
    this.setupMenuItems();
  }

  private setupMenuItems(): void {
    this.setItems([
      {
        label: 'A√ß√µes',
        items: [
          {
            label: 'Editar',
            icon: 'pi pi-pencil',
            command: () => this.editProduct()
          },
          {
            label: 'Excluir',
            icon: 'pi pi-trash',
            command: () => this.deleteProduct()
          }
        ]
      }
    ]);
  }

  private editProduct(): void {
    const currentLang = this.translationService.getCurrentLanguage();
    this.router.navigate(['/', currentLang, 'products', this.selectedItem!.id, 'edit']);
  }

  private deleteProduct(): void {
    // Implementar confirma√ß√£o e exclus√£o
  }
}
```

**5. Crie as tradu√ß√µes:**

```json
// assets/i18n/features/products/pt-br.json
{
  "products": {
    "title": "Produtos",
    "description": "Gerenciamento de produtos",
    "noData": "Nenhum produto encontrado",
    "search": "Buscar produtos...",
    "fields": {
      "name": "Nome",
      "price": "Pre√ßo",
      "createdAt": "Criado em"
    }
  }
}
```

**6. Adicione a rota:**

```typescript
// src/app/app.routes.ts
{
  path: ':lang',
  children: [
    {
      path: 'products',
      loadComponent: () => import('./features/products/products.component')
        .then(m => m.ProductsComponent),
      canActivate: [authGuard]
    }
  ]
}
```

**Pronto!** Voc√™ tem uma listagem completa com:
- ‚úÖ Pagina√ß√£o autom√°tica
- ‚úÖ Busca com debounce
- ‚úÖ Ordena√ß√£o de colunas
- ‚úÖ Estados de loading/erro
- ‚úÖ Menu de a√ß√µes
- ‚úÖ Tradu√ß√£o

---

## üåç Internacionaliza√ß√£o (I18N)

### Estrutura de Tradu√ß√µes:

```
assets/i18n/
‚îú‚îÄ‚îÄ global/              # Tradu√ß√µes globais (menu, bot√µes comuns)
‚îÇ   ‚îú‚îÄ‚îÄ pt-br.json
‚îÇ   ‚îî‚îÄ‚îÄ en-us.json
‚îî‚îÄ‚îÄ features/            # Tradu√ß√µes por feature
    ‚îú‚îÄ‚îÄ clients/
    ‚îÇ   ‚îú‚îÄ‚îÄ pt-br.json
    ‚îÇ   ‚îî‚îÄ‚îÄ en-us.json
    ‚îî‚îÄ‚îÄ products/
        ‚îú‚îÄ‚îÄ pt-br.json
        ‚îî‚îÄ‚îÄ en-us.json
```

### Como Usar no Template:

```html
<!-- Uso b√°sico -->
<h1>{{ 'products.title' | translate }}</h1>

<!-- Com par√¢metros -->
<p>{{ 'products.totalCount' | translate: { count: totalItems } }}</p>

<!-- Em atributos -->
<input [placeholder]="'common.search' | translate" />

<!-- Em bot√µes (SEMPRE incluir currentLang em navega√ß√£o) -->
<button [routerLink]="['/', translationService.getCurrentLanguage(), 'products', 'new']">
  {{ 'common.create' | translate }}
</button>
```

### Adicionar Novo Idioma:

1. Adicionar em `translation.service.ts`:
```typescript
public readonly availableLanguages: LanguageConfig[] = [
  { code: 'pt-br', flag: 'üáßüá∑', label: 'PT' },
  { code: 'en-us', flag: 'üá∫üá∏', label: 'EN' },
  { code: 'es-es', flag: 'üá™üá∏', label: 'ES' },  // ‚úÖ Novo
];
```

2. Criar arquivos JSON em `assets/i18n/global/es-es.json` e features

3. Pronto! O language selector mostrar√° automaticamente

---

## üé® Design System

### Vari√°veis CSS Principais:

```scss
:root {
  /* Cores */
  --primary-color: #6BB800;           /* Verde principal */
  --surface-card: #ffffff;            /* Cards */
  --text-color: #1a1a1a;              /* Texto */

  /* Espa√ßamentos */
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;

  /* Sombras */
  --shadow-soft: 0 2px 12px rgba(0, 0, 0, 0.08);

  /* Anima√ß√µes */
  --duration-fast: 0.2s;
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}
```

### Customizar Cores:

Edite `src/styles/_design-system.scss` e todas as vari√°veis ser√£o aplicadas globalmente.

### Componentes Estilizados:

- ‚úÖ Bot√µes (prim√°rio, secund√°rio, danger)
- ‚úÖ Inputs e formul√°rios
- ‚úÖ Tabelas com hover e sort
- ‚úÖ Cards com sombra
- ‚úÖ Modais e dialogs
- ‚úÖ Toasts e notifica√ß√µes
- ‚úÖ Dropdown e selects
- ‚úÖ Pagina√ß√£o

---

## üöÄ Deploy

### Azure App Service (Recomendado)

**1. Build SSR:**

```bash
npm run build:ssr
```

**2. Configure o `azure-pipelines.yml`:**

```yaml
trigger:
  - main

pool:
  vmImage: 'ubuntu-latest'

steps:
  - task: NodeTool@0
    inputs:
      versionSpec: '20.x'

  - script: |
      npm install
      npm run build:ssr
    displayName: 'Build Angular SSR'

  - task: CopyFiles@2
    inputs:
      SourceFolder: 'dist'
      Contents: '**'
      TargetFolder: '$(Build.ArtifactStagingDirectory)'

  - task: PublishBuildArtifacts@1

  - task: AzureWebApp@1
    inputs:
      azureSubscription: 'sua-subscription'
      appName: 'seu-app-name'
      package: '$(Build.ArtifactStagingDirectory)'
      startUpCommand: 'npm start'
```

**3. Configure no Azure:**
- Runtime: Node 20 LTS
- Startup Command: `npm start`
- Environment Variables: `NODE_ENV=production`, `API_URL=https://api.seudominio.com`

### Vercel (Alternativo)

```bash
npm i -g vercel
vercel --prod
```

### Heroku (Alternativo)

```bash
heroku create seu-app-name
git push heroku main
```

---

## üì¶ Exemplos Inclu√≠dos

### ‚úÖ CRUD Completo de Clientes

Localiza√ß√£o: `src/app/features/clients/`

**Inclui:**
- Listagem com pagina√ß√£o
- Busca e filtros
- Ordena√ß√£o de colunas
- Formul√°rio de cria√ß√£o/edi√ß√£o
- Valida√ß√£o de campos
- M√°scaras (CPF, telefone, CEP)
- Menu de a√ß√µes (editar/deletar)
- Estados de loading/erro/empty
- Tradu√ß√µes PT-BR e EN-US

**Como testar:**
1. Execute o backend: [Template Clean Architecture](https://github.com/joaopaulobiesek/Template-CleanArchitecture)
2. Fa√ßa login no sistema
3. Acesse: `http://localhost:4200/pt-br/clients`

---

## üì∏ Screenshots

### Login
![Login](docs/images/login.png)

### Dashboard
![Dashboard](docs/images/dashboard.png)

### Listagem de Clientes
![Clients](docs/images/clients.png)

### Mobile Responsivo
![Mobile](docs/images/mobile.png)

*(Adicione screenshots reais na pasta `docs/images/`)*

---

## ü§ù Contribuindo

Contribui√ß√µes s√£o bem-vindas! Para contribuir:

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/MinhaFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Adiciona MinhaFeature'`)
4. Push para a branch (`git push origin feature/MinhaFeature`)
5. Abra um Pull Request

### Padr√µes de Commit:

- `feat:` Nova funcionalidade
- `fix:` Corre√ß√£o de bug
- `docs:` Documenta√ß√£o
- `style:` Formata√ß√£o
- `refactor:` Refatora√ß√£o de c√≥digo
- `test:` Testes
- `chore:` Manuten√ß√£o

---

## üìù Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## üîó Links √öteis

- üìñ [Documenta√ß√£o Angular](https://angular.io/docs)
- üé® [PrimeNG Components](https://www.primefaces.org/primeng/)
- üîó [Backend Template (C# Clean Architecture)](https://github.com/joaopaulobiesek/Template-CleanArchitecture)
- üöÄ [Angular Universal](https://angular.io/guide/universal)
- üí¨ [Abrir Issue](https://github.com/seu-usuario/template-angular-ssr-multitenant/issues)

---

## üë®‚Äçüíª Autor

**Jo√£o Paulo Biesek**

- GitHub: [@joaopaulobiesek](https://github.com/joaopaulobiesek)
- LinkedIn: [linkedin.com/in/joaopaulobiesek](https://linkedin.com/in/joaopaulobiesek)

---

## ‚≠ê Mostre seu Apoio

Se este template foi √∫til para voc√™, considere dar uma ‚≠ê no reposit√≥rio!

---

## üìä Roadmap

- [ ] Adicionar testes unit√°rios e E2E
- [ ] Implementar PWA
- [ ] Adicionar mais componentes reutiliz√°veis
- [ ] Criar gerador de CRUD via CLI
- [ ] Adicionar suporte a WebSockets
- [ ] Integra√ß√£o com Docker
- [ ] CI/CD para GitHub Actions

---

**Desenvolvido com ‚ù§Ô∏è para acelerar o desenvolvimento de aplica√ß√µes empresariais**
